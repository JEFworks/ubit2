---
layout: default
---

  <div class="container-fluid">

    <div class="row">
      <div class="col-sm-3">
	  <div class="panel panel-primary">
	    <div class="panel-heading">About ubit2</div>
	    <div class="panel-body">ubit2 enables fast, simple bioinformatics analysis online. Your data is never accessed or stored in any way. <br><br>
	      <a href="about.html">☞ Learn more ☜</a></div>
	  </div>
      </div>

      <div class="col-sm-9">
	<div class="panel panel-default">
	  <div class="panel-heading">Data <i class="fa fa-file-text-o"></i></div>
	  <div class="panel-body">
	    <div class="row">
	      <div class="col-sm-9 container">
		<textarea class="form-control" id="incsv">
,CENPF,SHISA2,IGFBPL1,BCAT1,LDHA,STMN2,HMGB2,TRIM59,EGR1,NFIA,NUSAP1,TOP2A,ANP32E,BAG4,KPNA2,CNTNAP2,LIX1,C3orf70,CCNG1,AXL,ANXA2,STON2,VIM,LOC150568,TGFBR1,BIRC5,ASPM,CACUL1,SOX9,SLA
Hi_NPC_1,2036,8657,1,4499,12689,101,13166,2295,0,0,4938,6039,11914,3107,4598,186,3355,0,366,1419,2293,1,2953,0,146,2654,2407,571,5815,0
Hi_NPC_10,11335,513,255,9642,3706,0,8729,11637,0,0,5711,9440,16332,4,7403,5508,3333,0,2651,57,3078,5,5835,1,8818,4819,3966,1939,934,0
Hi_NPC_14,9337,2329,1,5940,4884,0,3903,8620,8,1,4592,9209,10145,300,11185,1514,5957,0,1101,1804,390,68,2541,0,3426,3236,5752,2,1211,0
Hi_NPC_15,9927,6636,0,7805,10997,0,12933,15062,0,0,5964,13125,33998,620,22519,1034,3106,621,1052,604,1223,17,1251,0,1155,8335,5757,929,3680,0
Hi_NPC_13,2405,8419,986,3632,14659,1026,3981,3456,1,0,1743,630,19303,30,1443,3359,2097,0,4010,1780,926,0,526,0,538,1124,2581,827,827,0
Hi_NPC_12,6065,3099,212,5170,3670,146,5220,3544,0,0,3367,6872,8738,1223,6886,1242,983,450,1529,789,253,288,1056,0,647,2683,1925,429,170,0
Hi_NPC_2,6563,9691,0,4341,8207,5,7450,8519,2,259,3805,3752,12629,1631,2000,5289,6740,0,3204,2173,1150,1042,882,0,3288,3383,1886,2595,65,0
Hi_NPC_7,5032,3430,1099,2691,11352,0,6121,5703,86,0,3339,9298,14856,2752,7309,3985,2168,0,2015,5007,2438,1005,3107,0,6789,3258,3960,756,628,0
Hi_NPC_6,3623,1226,2043,2733,4536,0,6207,2854,0,0,3271,7265,10123,2587,6351,2519,5195,0,1464,1085,3710,1511,2392,11,5783,2849,2474,2687,0,0
Hi_NPC_8,4640,1491,2031,8710,11418,0,8044,2271,0,0,611,873,38780,5692,1198,2103,467,1,1517,7116,279,4722,1840,0,1014,5256,816,1203,75,0
Hi_NPC_5,2051,1130,2,3532,8844,67,1525,915,0,0,765,251,8653,1769,908,2099,1254,451,1184,640,1010,1506,1261,0,220,2066,641,768,576,0
Hi_NPC_3,17099,14378,0,8519,14251,5,13140,12338,81,0,9311,16354,11167,5003,24524,278,3123,477,2890,1,3089,0,1882,0,4876,6314,2964,5879,1208,0
Hi_NPC_11,1883,11234,0,2192,7602,1,1698,3203,0,0,555,55,15324,1042,1136,4858,3187,115,2138,723,1430,289,4236,578,1601,134,10,897,2027,0
Hi_NPC_9,422,14027,1782,5441,9346,1,1920,271,1793,0,917,1669,10201,4377,1531,5014,4157,2920,70,3402,1069,3,3595,318,715,927,359,3217,1764,0
Hi_NPC_4,1886,10439,3,11350,11525,1,3388,793,396,0,6453,1946,7923,3,4527,76,2961,927,5695,1980,1808,1708,1276,0,8,102,5365,0,3274,0
Hi_GW16_14,2563,619,32372,0,210,1,1695,825,23497,2357,4741,9482,4837,2,2004,0,0,1251,74,1,0,928,0,1317,0,1022,400,0,2,1
Hi_GW16_22,13531,5254,62790,2,7,6,11546,2128,61512,4091,7935,26501,27938,7507,15798,0,0,1,0,0,0,3714,3821,635,1241,3525,10541,0,7009,1
Hi_GW21_8,5021,0,9,2280,8828,16,2911,4807,9781,3864,425,12292,25476,0,3813,0,2237,2620,9,1,22236,0,13640,0,6,6767,3204,3717,3374,1
Hi_GW21+3_15,1445,959,1375,523,295,5282,722,1162,5943,1857,1398,6216,3846,399,1203,75,0,1353,1,551,1,500,177,875,1,556,612,2210,851,1057
Hi_GW21+3_4,2201,332,4,0,343,1213,2741,1404,5757,1336,2221,4110,7498,1456,879,1657,0,1254,0,0,1786,1,610,0,613,816,546,511,1237,3
Hi_GW16_6,0,0,7062,1056,0,1464,45,187,3250,102,0,0,933,139,593,0,0,1243,677,1,5,680,714,1,752,0,0,30,1,28
Hi_GW21+3_2,763,0,1,1,723,6,337,1205,3266,1419,57,1940,6675,1547,311,0,0,2190,1,1,1,3,4,3,1,4,0,1902,1379,0
Hi_GW21+3_11,1896,0,4166,0,714,2156,1282,1268,1769,2180,1598,3240,4712,3,3030,0,0,742,720,0,1,1404,1,1081,1491,612,947,257,26,194
Hi_GW16_13,0,155,0,0,568,0,1270,0,19804,10901,16,0,0,0,9852,0,3254,0,1162,0,358,2960,7114,1601,0,0,0,0,3999,0
Hi_GW16_25,1,0,26,0,4,7,2,464,10348,10431,0,0,380,1002,0,447,0,1954,3062,0,298,0,2668,1252,6917,0,0,40,0,0
Hi_GW16_17,3094,2364,7,0,3848,3,1,0,15268,4265,1,2,8718,1,0,0,0,1302,0,0,1647,5095,6634,1,1,0,0,1544,5020,1
Hi_GW16_15,0,4611,1,0,6857,3,1,2956,47222,3372,0,4,6147,1,0,0,0,132,0,754,0,6268,1940,2535,10411,1,0,1,3378,0
Hi_GW16_20,242,1018,12,0,0,2,2992,1,38638,2777,1277,5,3066,2771,802,1,0,3485,2385,9951,213,3853,1793,0,0,1,0,0,3802,0
Hi_GW16_16,1,0,0,0,626,1,0,0,26276,6674,85,4,1452,3882,4530,1,0,1359,0,1296,2691,919,2891,0,2,0,1,207,1661,0
Hi_GW16_18,3377,0,6,0,4476,5,192,1074,10717,1970,4284,322,7503,975,25,0,3823,2055,776,938,2727,7528,3186,54,1377,266,0,433,814,1</textarea>
	      </div>
	      <div class="col-sm-3">	
		Transform data:
		<select id="transform" class="btn btn-default">
		  <option value="none">none</option>
		  <option value="log10">log10</option>
		</select>
		<br><br>
		<button type="button" id="inbut" class="btn btn-primary btn-block">analyze</button>
	      </div>
	    </div>
	  </div>
	</div>
      </div>      
    </div>
    
    <div class="row">      
      <div class="col-sm-3">
	<div class="panel panel-default">
	  <div class="panel-heading">Library Size Distribution</div>
	  <div class="panel-body" style="height:150px" id="hist_panel1">
	    <div id="hist1"></div>
	  </div>
	</div>
	<div class="panel panel-default">
	  <div class="panel-heading">Library Complexity Distribution</div>
	  <div class="panel-body" style="height:150px" id="hist_panel2">
	    <div id="hist2"></div>
	  </div>
	</div>
      </div>     
      
      <div class="col-sm-5">
	<div class="panel panel-default">
	  <div class="panel-heading">Hierarchical Clustering Heatmap</div>
	  <div class="panel-body" style="height:363px" id="heatmap_panel">
	    
	    Options:
	
	    <select id="cluster_method" class="btn btn-default">
	      <option value="complete">complete</option>
	      <option value="average">average</option>
	      <option value="single">single</option>
	    </select>
	    
	    <select id="distance_metric" class="btn btn-default">
	      <option value="euclidean">euclidean</option>
	      <option value="manhattan">manhattan</option>
	      <option value="max">max</option>
	    </select>
	    
	    <br><br>
	    
	    <div id="dendro"></div>
	  </div>
	  
	</div>
      </div>
      
      <div class="col-sm-4">
	<div class="panel panel-default">
	  <div class="panel-heading">Principal Component Analysis</div>
	  <div class="panel-body" style="height:363px" id="pca_panel">
	    <div id="pca"></div>
	  </div>
	</div>
      </div>
    </div>
    
    <div class="row">      
      <div class="col-sm-4">
	<div class="panel panel-default">
	  <div class="panel-heading">Volcano Plot</div>
	  <div class="panel-body" style="height:363px" id="volcano_panel">
	    <div id="volcano"></div>
	  </div>
	</div>
      </div>     

      <div class="col-sm-4">
	<div class="panel panel-default">
	  <div class="panel-heading">Differential Expression: P-value</div>
          <div class="panel-body" style="height:150px" id="diffexp_pval_panel">
	    
<!---  	    Options:
	
	    <select id="highlight_method" class="btn btn-default">
	      <option value="mtcsig_pval">bonf pval < 0.05</option>
	      <option value="sig_pval">pval < 0.05</option>
	    </select>
	    
	    <select id="sort_pval" class="btn btn-default">
	      <option value="original">original order</option>
	      <option value="decreasing">decreasing</option>
	    </select>
--->
	    <div id="diffexp_pval"></div>
	  </div>
        </div>

	<div class="panel panel-default">
	  <div class="panel-heading">Differential Expression: Fold Change</i></div>
          <div class="panel-body" style="height:150px" id="diffexp_fc_panel">
  	    <div id="diffexp_fc"></div>
	  </div>
	</div>

      </div>

      <div class="col-sm-4">
	<div class="panel panel-default">
	  <div class="panel-heading">Gene set enrichment</div>
	  <div class="panel-body" style="height:363px" id="gsea_panel">
	    <select id="geneset_selection" class="btn btn-default">
	      
	    </select>
	    <div id="mhg-chart"></div>
	  </div>
	</div>
      </div>     

    </div>
    
  </div>

<script src="js/jquery.min.js"></script>
<script src="js/d3-3.5.14.min.js"></script>
<script src="js/d3.tip.v0.6.3.js"></script>

<script src="js/clusterfck.js"></script>
<script src="js/clusterfck_custom.js"></script>
<script src="js/mannwhitneyu.js"></script>
<script src="js/pca.js"></script>
<script src="js/column-chart.js"></script>

<script src="js/mhg.js"></script>
<script src="js/mhg_custom.js"></script>

<script src="js/histogram.js"></script>
<script src="js/pcscatter.js"></script>
<script src="js/heatmap.js"></script>
<script src="js/ubit2.js"></script>
<script src="js/org.Hs.GO2Symbol.js"></script>

<script type="text/javascript">
  // global vars
  var dataRaw;
  var dataAll;
  var dataPro;
  
  function preProData() {
  
    var txt = $("#incsv").val();
    var lines = txt.split("\n");
    var rawData = [];
    var dlen = -1;
  
    var colNames = lines[0].split(',')
  
    for(var i = 1; i < lines.length;i++) {
      row = lines[i].split(',');
      var dataPoint = [];
      dataPoint['name'] = row[0];		       
      for(var j = 1; j < row.length; j++) {
        if(row[j].length !== 0) {
          dataPoint.push({name:colNames[j],value: parseFloat(row[j])});
        }
      }
      rawData.push(dataPoint);
    }
    dataRaw = rawData; // set global
  }
			 
  function draw(){
    initHeatmap();

    initDiffexpPca();
    initHist();

    drawMhg();
  };
  function init() {
    preProData(); // set dataRaw
    initData() // set dataPro
    initCalc(); // set dataPro
    initMhg();
    draw();
  };
  $(window).load(init);
  $("#inbut").click(init);
  $(window).resize(draw);
  
</script>

