---
layout: default
---

  <div class="container-fluid">

    <div class="row">
      <div class="col-sm-3">
	  <div class="panel panel-primary">
	    <div class="panel-heading">About ubit2</div>
	    <div class="panel-body">ubit2 enables fast, simple bioinformatics analysis online. Your data is never accessed or stored in any way. <br><br>
	      <a href="about.html">☞ Learn more ☜</a></div>
	  </div>
      </div>

      <div class="col-sm-9">
	<div class="panel panel-default">
	  <div class="panel-heading">Data <i class="fa fa-file-text-o"></i></div>
	  <div class="panel-body">
	    <div class="row">
	      <div class="col-sm-9 container">
		<textarea class="form-control" id="incsv">
,CENPF,SHISA2,IGFBPL1,BCAT1,LDHA,STMN2,HMGB2,TRIM59,EGR1,NFIA
1NPC,2036,8657,1,4499,12689,101,13166,2295,0,0
2NPC,11335,513,255,9642,3706,0,8729,11637,0,0
3NPC,9337,2329,1,5940,4884,0,3903,8620,8,1
4NPC,9927,6636,0,7805,10997,0,12933,15062,0,0
5NPC,2405,8419,986,3632,14659,1026,3981,3456,1,0
6NPC,6065,3099,212,5170,3670,146,5220,3544,0,0
7NPC,6563,9691,0,4341,8207,5,7450,8519,2,259
8NPC,5032,3430,1099,2691,11352,0,6121,5703,86,0
9NPC,3623,1226,2043,2733,4536,0,6207,2854,0,0
10NPC,4640,1491,2031,8710,11418,0,8044,2271,0,0
11NPC,2051,1130,2,3532,8844,67,1525,915,0,0
12NPC,17099,14378,0,8519,14251,5,13140,12338,81,0
13NPC,1883,11234,0,2192,7602,1,1698,3203,0,0
14NPC,422,14027,1782,5441,9346,1,1920,271,1793,0
15NPC,1886,10439,3,11350,11525,1,3388,793,396,0
1GW16,2563,619,32372,0,210,1,1695,825,23497,2357
2GW16,13531,5254,62790,2,7,6,11546,2128,61512,4091
3GW16,0,0,7062,1056,0,1464,45,187,3250,102
4GW16,0,155,0,0,568,0,1270,0,19804,10901
5GW16,1,0,26,0,4,7,2,464,10348,10431
6GW16,3094,2364,7,0,3848,3,1,0,15268,4265
7GW16,0,4611,1,0,6857,3,1,2956,47222,3372
8GW16,242,1018,12,0,0,2,2992,1,38638,2777
9GW16,1,0,0,0,626,1,0,0,26276,6674
10GW16,3377,0,6,0,4476,5,192,1074,10717,1970
11GW16,1708,2057,91,112,76,1979,0,1030,20192,6488
12GW16,6437,3110,2,0,3,11,6105,11079,2948,7159
13GW16,0,0,1,0,0,1,280,2715,0,4799
14GW16,2643,0,7819,0,0,6396,0,0,333,1
15GW16,0,602,2650,1,1,4549,0,0,5574,16162
16GW16,0,2,48746,0,0,7120,0,0,566,3900
17GW16,0,0,35541,0,1115,21022,1,0,1714,2
18GW16,0,1,23101,0,0,23476,0,1,910,1422
19GW16,0,815,39512,0,0,1501,1,2577,2,4024
20GW16,2,1660,53392,1,1,59110,0,2,3,2501
21GW16,0,0,2,0,0,2289,0,0,627,0
22GW16,0,0,1128,0,0,882,0,0,12777,0
23GW16,0,2,2039,0,0,661,0,3,7,1078
24GW16,0,0,10267,0,0,85,0,0,2,1
25GW16,0,0,2018,1,0,17813,1,2,22,1</textarea>
	      </div>
	      <div class="col-sm-3">	
		Transform data:
		<select id="transform" class="btn btn-default">
		  <option value="none">none</option>
		  <option value="log10">log10</option>
		</select>
		<br>
		Transpose data:
		<select id="transpose" class="btn btn-default">
		  <option value="no">no</option>
		  <option value="yes">yes</option>
		</select>    
		<br><br>
		<button type="button" id="inbut" class="btn btn-primary btn-block">analyze</button>
	      </div>
	    </div>
	  </div>
	</div>
      </div>      
    </div>
    
    <div class="row">      
      <div class="col-sm-3">
	<div class="panel panel-default">
	  <div class="panel-heading">Library Size Distribution</div>
	  <div class="panel-body" style="height:150px" id="hist_panel1">
	    <div id="hist1"></div>
	  </div>
	</div>
	<div class="panel panel-default">
	  <div class="panel-heading">Library Complexity Distribution</div>
	  <div class="panel-body" style="height:150px" id="hist_panel2">
	    <div id="hist2"></div>
	  </div>
	</div>
      </div>     
      
      <div class="col-sm-5">
	<div class="panel panel-default">
	  <div class="panel-heading">Hierarchical Clustering Heatmap</div>
	  <div class="panel-body" style="height:363px" id="heatmap_panel">
	    
	    Options:
	
	    <select id="cluster_method" class="btn btn-default">
	      <option value="complete">complete</option>
	      <option value="average">average</option>
	      <option value="single">single</option>
	    </select>
	    
	    <select id="distance_metric" class="btn btn-default">
	      <option value="euclidean">euclidean</option>
	      <option value="manhattan">manhattan</option>
	      <option value="max">max</option>
	    </select>
	    
	    <br><br>
	    
	    <div id="dendro"></div>
	  </div>
	  
	</div>
      </div>
      
      <div class="col-sm-4">
	<div class="panel panel-default">
	  <div class="panel-heading">Principal Component Analysis</div>
	  <div class="panel-body" style="height:363px" id="pca_panel">
	    <div id="pca"></div>
	  </div>
	</div>
      </div>
    </div>
    
    <div class="row">      
      <div class="col-sm-4">
	<div class="panel panel-default">
	  <div class="panel-heading">Volcano Plot</div>
	  <div class="panel-body" style="height:363px" id="volcano_panel">
	    <div id="volcano"></div>
	  </div>
	</div>
      </div>     

      <div class="col-sm-4">
	<div class="panel panel-default">
	  <div class="panel-heading">Differential Expression: P-value</div>
          <div class="panel-body" style="height:150px" id="diffexp_pval_panel">
	    
<!---  	    Options:
	
	    <select id="highlight_method" class="btn btn-default">
	      <option value="mtcsig_pval">bonf pval < 0.05</option>
	      <option value="sig_pval">pval < 0.05</option>
	    </select>
	    
	    <select id="sort_pval" class="btn btn-default">
	      <option value="original">original order</option>
	      <option value="decreasing">decreasing</option>
	    </select>
--->
	    <div id="diffexp_pval"></div>
	  </div>
        </div>

	<div class="panel panel-default">
	  <div class="panel-heading">Differential Expression: Fold Change</i></div>
          <div class="panel-body" style="height:150px" id="diffexp_fc_panel">
  	    <div id="diffexp_fc"></div>
	  </div>
	</div>

      </div>

      <div class="col-sm-4">
	<div class="panel panel-default">
	  <div class="panel-heading">Gene set enrichment</div>
	  <div class="panel-body" style="height:363px" id="gsea_panel">
	    <select id="geneset_selection" class="btn btn-default">
	      
	    </select>
	    <div id="mhg-chart"></div>
	  </div>
	</div>
      </div>     

    </div>
    
  </div>

<script src="js/jquery.min.js"></script>
<script src="js/d3-3.5.14.min.js"></script>
<script src="js/d3.tip.v0.6.3.js"></script>

<script src="js/clusterfck.js"></script>
<script src="js/clusterfck_custom.js"></script>
<script src="js/mannwhitneyu.js"></script>
<script src="js/pca.js"></script>
<script src="js/column-chart.js"></script>

<script src="js/mhg.js"></script>
<script src="js/mhg_custom.js"></script>

<script src="js/histogram.js"></script>
<script src="js/pcscatter.js"></script>
<script src="js/heatmap.js"></script>
<script src="js/ubit2.js"></script>
<script src="js/org.Hs.GO2Symbol.js"></script>

<script type="text/javascript">
  // global vars
  var dataRaw;
  var dataAll;
  var dataPro;
  
  function preProData() {
  
    var txt = $("#incsv").val();
    var lines = txt.split("\n");
    var rawData = [];
    var dlen = -1;
  
    var colNames = lines[0].split(',')
  
    for(var i = 1; i < lines.length;i++) {
      row = lines[i].split(',');
      var dataPoint = [];
      dataPoint['name'] = row[0];		       
      for(var j = 1; j < row.length; j++) {
        if(row[j].length !== 0) {
          dataPoint.push({name:colNames[j],value: parseFloat(row[j])});
        }
      }
      rawData.push(dataPoint);
    }
    dataRaw = rawData; // set global
  }
			 
  function draw(){
    initData() // set dataPro
    initCalc(); // set dataPro
    initHeatmap();

    initDiffexpPca();
    initHist();

    initMhg();
  };
  function init() {
    preProData(); // set dataRaw
    initData() // set dataPro
    initCalc(); // set dataPro
    draw();
  };
  $(window).load(init);
  $("#inbut").click(init);
  $(window).resize(draw);
  
</script>

